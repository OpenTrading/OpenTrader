<h2>Examples</h2>

<p>Because <a href="OTCmd2">DocOTCmd2</a> is a cmd2 application, not only can<br />
it interpret commands in an interactive loop, but it can read<br />
a list of commands from the stdin. This can be used to give<br />
examples of typical use-cases.</p>

<p>Additionally, as we have Python under the cmd2 loop, we can<br />
use Python to make tests or assertions after any step in the script.<br />
This makes it easy to write scripts as complete <a href="UseCase">UseCase</a> tests.<br />
At the same time, it gives end-users a catalogue of complete working examples.</p>

<p>There are a series of example files in the<br />
<a href="share/examples">https://github.com/OpenTrading/OpenTrader/blob/master/share/examples/</a><br />
directory of the distribution. These example files are <a href="OTCmd2">DocOTCmd2</a><br />
command scripts that you run, for example under Msys or Unix, like this:</p>
<pre>
OTCmd2 -P "/c/Program Files/MetaTrader"  &lt; share/examples/OTCmd2-sub.txt
</pre>

<p>You should see no <tt>AssertionError</tt>s, and you should see no timeouts:</p>
<pre>
WARN: No retval returned in 60 seconds
</pre>
<p>(You can adjust the timeout in the <tt>[OTCmd2]</tt> section of the<br />
<a href="OTCmd2.ini">https://github.com/OpenTrading/OpenTrader/blob/master/OpenTrader/OTCmd2.ini</a><br />
config file with the key <tt>iRetvalTimeout</tt>.)</p>

<p>These test runners are written in BASH. To run them under Windows you will need<br />
to install a Unix <tt>bash</tt>, such as<br />
<a href="http://downloads.sourceforge.net/mingw/MSYS-1.0.11.exe">http://downloads.sourceforge.net/mingw/MSYS-1.0.11.exe</a></p>

<p>They're not very complicated, so if you don't have a Unix BASH installed,<br />
you can just read the scripts and run the commands from a command-line window.<br />
Perhaps someone can contribute the <tt>.bat</tt> script equivalents, even<br />
simplified versions.</p>

<p>You can also run the test suite with different configurations by giving<br />
it different <tt>.ini</tt> files, for example under Msys or Unix, like this:</p>
<pre>
OTCmd2 -c /tmp/My.ini -P "/c/Program Files/MetaTrader"  &lt; share/examples/OTCmd2-sub.txt
</pre>

<h3>Current Examples</h3>

<p>These examples can be run as a test suite, but some are slow<br />
and some require the rabbitq server to be running and some<br />
require a Metatrader to be running with a OTPyTestPikaEA.mq4 EA loaded.</p>

<p>We will try to break the examples up into groups to be run under different conditions<br />
This script is in Unix bash and should run under Windows using MSYS.<br />
Or maybe someone can kindly convert it to MSDOS BAT and upload it to githib.com</p>

<p>We need to know where you have your metatrader installed.</p>

<p>The calling of OTCmd2 may need to be customized for your setup.</p>

<h4>share/examples/test_mt4_zeromq_running.sh</h4>

<p>Test the communications with Mt4 via RabbitMQ;<br />
these tests NEED to have BOTH RabbitMQ and Mt4 running<br />
We need to know where you have your metatrader installed.</p>

<ul>
	<li><a href="ZeroMQ-sub.txt">https://github.com/OpenTrading/OpenTrader/raw/master/share/examples/ZeroMQ-sub.txt</a></li>
</ul>
<ul>
	<li><a href="ZeroMQ-chart.txt">https://github.com/OpenTrading/OpenTrader/raw/master/share/examples/ZeroMQ-chart.txt</a></li>
</ul>
<ul>
	<li><a href="ZeroMQ-ord.txt">https://github.com/OpenTrading/OpenTrader/raw/master/share/examples/ZeroMQ-ord.txt</a></li>
</ul>
<ul>
	<li><a href="ZeroMQ-pub_wait-Accounts.txt">https://github.com/OpenTrading/OpenTrader/raw/master/share/examples/ZeroMQ-pub_wait-Accounts.txt</a></li>
</ul>
<ul>
	<li><a href="ZeroMQ-pub_wait-jOT.txt">https://github.com/OpenTrading/OpenTrader/raw/master/share/examples/ZeroMQ-pub_wait-jOT.txt</a></li>
</ul>
<ul>
	<li><a href="ZeroMQ-pub_wait.txt">https://github.com/OpenTrading/OpenTrader/raw/master/share/examples/ZeroMQ-pub_wait.txt</a></li>
</ul>
<h4>share/examples/test_backtest.sh</h4>

<p>You MUST have created a CSV file for the tests to work on.</p>

<ul>
	<li><a href="OTCmd2-backtest_SMARecipe.txt">https://github.com/OpenTrading/OpenTrader/raw/master/share/examples/OTCmd2-backtest_SMARecipe.txt</a></li>
</ul>
<ul>
	<li><a href="OTCmd2-backtest_recipe.txt">https://github.com/OpenTrading/OpenTrader/raw/master/share/examples/OTCmd2-backtest_recipe.txt</a></li>
</ul>
<ul>
	<li><a href="OTCmd2-backtest_omlette.txt">https://github.com/OpenTrading/OpenTrader/raw/master/share/examples/OTCmd2-backtest_omlette.txt</a></li>
</ul>
<hr />

<p>This file is automatically generated from the source code: do not edit.</p>